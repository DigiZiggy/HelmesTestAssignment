DROP TABLE IF EXISTS person_sectors;

DROP TABLE IF EXISTS person;

DROP TABLE IF EXISTS sector;


CREATE TABLE person (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    firstName VARCHAR(255) NOT NULL,
    lastName VARCHAR(255) NOT NULL,
    sectors VARCHAR(500),
    acceptTerms BOOLEAN
);


CREATE TABLE sector (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    name VARCHAR(255) NOT NULL
);

CREATE TABLE person_sectors (
    sector_id INTEGER NOT NULL,
    person_id INTEGER NOT NULL,
    FOREIGN KEY (person_id)
        REFERENCES person(id) ON DELETE CASCADE,
    FOREIGN KEY (sector_id)
        REFERENCES sector(id) ON DELETE CASCADE
);
